{"ast":null,"code":"const xtend = require('xtend');\n\nconst Constants = require('./constants');\n\nconst defaultOptions = {\n  defaultMode: Constants.modes.SIMPLE_SELECT,\n  keybindings: true,\n  clickBuffer: 2,\n  boxSelect: true,\n  displayControlsDefault: true,\n  styles: require('./lib/theme'),\n  controls: {},\n  userProperties: false\n};\nconst showControls = {\n  point: true,\n  line_string: true,\n  polygon: true,\n  trash: true,\n  combine_features: true,\n  uncombine_features: true\n};\nconst hideControls = {\n  point: false,\n  line_string: false,\n  polygon: false,\n  trash: false,\n  combine_features: false,\n  uncombine_features: false\n};\n\nfunction addSources(styles, sourceBucket) {\n  return styles.map(style => {\n    if (style.source) return style;\n    return xtend(style, {\n      id: `${style.id}.${sourceBucket}`,\n      source: sourceBucket === 'hot' ? Constants.sources.HOT : Constants.sources.COLD\n    });\n  });\n}\n\nmodule.exports = function (options = {}) {\n  let withDefaults = xtend(options);\n\n  if (!options.controls) {\n    withDefaults.controls = {};\n  }\n\n  if (options.displayControlsDefault === false) {\n    withDefaults.controls = xtend(hideControls, options.controls);\n  } else {\n    withDefaults.controls = xtend(showControls, options.controls);\n  }\n\n  withDefaults = xtend(defaultOptions, withDefaults); // Layers with a shared source should be adjacent for performance reasons\n\n  withDefaults.styles = addSources(withDefaults.styles, 'cold').concat(addSources(withDefaults.styles, 'hot'));\n  return withDefaults;\n};","map":{"version":3,"sources":["/home/jfrank/Ironhack/LastProject/cyclingproject/mapbox-react-tutorial/mapboxAndReact/node_modules/mapbox-gl-draw/src/options.js"],"names":["xtend","require","Constants","defaultOptions","defaultMode","modes","SIMPLE_SELECT","keybindings","clickBuffer","boxSelect","displayControlsDefault","styles","controls","userProperties","showControls","point","line_string","polygon","trash","combine_features","uncombine_features","hideControls","addSources","sourceBucket","map","style","source","id","sources","HOT","COLD","module","exports","options","withDefaults","concat"],"mappings":"AAAA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAD,CAArB;;AACA,MAAMC,SAAS,GAAGD,OAAO,CAAC,aAAD,CAAzB;;AAEA,MAAME,cAAc,GAAG;AACrBC,EAAAA,WAAW,EAAEF,SAAS,CAACG,KAAV,CAAgBC,aADR;AAErBC,EAAAA,WAAW,EAAE,IAFQ;AAGrBC,EAAAA,WAAW,EAAE,CAHQ;AAIrBC,EAAAA,SAAS,EAAE,IAJU;AAKrBC,EAAAA,sBAAsB,EAAE,IALH;AAMrBC,EAAAA,MAAM,EAAEV,OAAO,CAAC,aAAD,CANM;AAOrBW,EAAAA,QAAQ,EAAE,EAPW;AAQrBC,EAAAA,cAAc,EAAE;AARK,CAAvB;AAWA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,KAAK,EAAE,IADY;AAEnBC,EAAAA,WAAW,EAAE,IAFM;AAGnBC,EAAAA,OAAO,EAAE,IAHU;AAInBC,EAAAA,KAAK,EAAE,IAJY;AAKnBC,EAAAA,gBAAgB,EAAE,IALC;AAMnBC,EAAAA,kBAAkB,EAAE;AAND,CAArB;AASA,MAAMC,YAAY,GAAG;AACnBN,EAAAA,KAAK,EAAE,KADY;AAEnBC,EAAAA,WAAW,EAAE,KAFM;AAGnBC,EAAAA,OAAO,EAAE,KAHU;AAInBC,EAAAA,KAAK,EAAE,KAJY;AAKnBC,EAAAA,gBAAgB,EAAE,KALC;AAMnBC,EAAAA,kBAAkB,EAAE;AAND,CAArB;;AASA,SAASE,UAAT,CAAoBX,MAApB,EAA4BY,YAA5B,EAA0C;AACxC,SAAOZ,MAAM,CAACa,GAAP,CAAWC,KAAK,IAAI;AACzB,QAAIA,KAAK,CAACC,MAAV,EAAkB,OAAOD,KAAP;AAClB,WAAOzB,KAAK,CAACyB,KAAD,EAAQ;AAClBE,MAAAA,EAAE,EAAG,GAAEF,KAAK,CAACE,EAAG,IAAGJ,YAAa,EADd;AAElBG,MAAAA,MAAM,EAAGH,YAAY,KAAK,KAAlB,GAA2BrB,SAAS,CAAC0B,OAAV,CAAkBC,GAA7C,GAAmD3B,SAAS,CAAC0B,OAAV,CAAkBE;AAF3D,KAAR,CAAZ;AAID,GANM,CAAP;AAOD;;AAEDC,MAAM,CAACC,OAAP,GAAiB,UAASC,OAAO,GAAG,EAAnB,EAAuB;AACtC,MAAIC,YAAY,GAAGlC,KAAK,CAACiC,OAAD,CAAxB;;AAEA,MAAI,CAACA,OAAO,CAACrB,QAAb,EAAuB;AACrBsB,IAAAA,YAAY,CAACtB,QAAb,GAAwB,EAAxB;AACD;;AAED,MAAIqB,OAAO,CAACvB,sBAAR,KAAmC,KAAvC,EAA8C;AAC5CwB,IAAAA,YAAY,CAACtB,QAAb,GAAwBZ,KAAK,CAACqB,YAAD,EAAeY,OAAO,CAACrB,QAAvB,CAA7B;AACD,GAFD,MAEO;AACLsB,IAAAA,YAAY,CAACtB,QAAb,GAAwBZ,KAAK,CAACc,YAAD,EAAemB,OAAO,CAACrB,QAAvB,CAA7B;AACD;;AAEDsB,EAAAA,YAAY,GAAGlC,KAAK,CAACG,cAAD,EAAiB+B,YAAjB,CAApB,CAbsC,CAetC;;AACAA,EAAAA,YAAY,CAACvB,MAAb,GAAsBW,UAAU,CAACY,YAAY,CAACvB,MAAd,EAAsB,MAAtB,CAAV,CAAwCwB,MAAxC,CAA+Cb,UAAU,CAACY,YAAY,CAACvB,MAAd,EAAsB,KAAtB,CAAzD,CAAtB;AAEA,SAAOuB,YAAP;AACD,CAnBD","sourcesContent":["const xtend = require('xtend');\nconst Constants = require('./constants');\n\nconst defaultOptions = {\n  defaultMode: Constants.modes.SIMPLE_SELECT,\n  keybindings: true,\n  clickBuffer: 2,\n  boxSelect: true,\n  displayControlsDefault: true,\n  styles: require('./lib/theme'),\n  controls: {},\n  userProperties: false\n};\n\nconst showControls = {\n  point: true,\n  line_string: true,\n  polygon: true,\n  trash: true,\n  combine_features: true,\n  uncombine_features: true\n};\n\nconst hideControls = {\n  point: false,\n  line_string: false,\n  polygon: false,\n  trash: false,\n  combine_features: false,\n  uncombine_features: false\n};\n\nfunction addSources(styles, sourceBucket) {\n  return styles.map(style => {\n    if (style.source) return style;\n    return xtend(style, {\n      id: `${style.id}.${sourceBucket}`,\n      source: (sourceBucket === 'hot') ? Constants.sources.HOT : Constants.sources.COLD\n    });\n  });\n}\n\nmodule.exports = function(options = {}) {\n  let withDefaults = xtend(options);\n\n  if (!options.controls) {\n    withDefaults.controls = {};\n  }\n\n  if (options.displayControlsDefault === false) {\n    withDefaults.controls = xtend(hideControls, options.controls);\n  } else {\n    withDefaults.controls = xtend(showControls, options.controls);\n  }\n\n  withDefaults = xtend(defaultOptions, withDefaults);\n\n  // Layers with a shared source should be adjacent for performance reasons\n  withDefaults.styles = addSources(withDefaults.styles, 'cold').concat(addSources(withDefaults.styles, 'hot'));\n\n  return withDefaults;\n};\n"]},"metadata":{},"sourceType":"script"}