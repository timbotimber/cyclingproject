{"ast":null,"code":"const Constants = require('../constants');\n\nmodule.exports = function (parent, startVertex, endVertex, map) {\n  const startCoord = startVertex.geometry.coordinates;\n  const endCoord = endVertex.geometry.coordinates; // If a coordinate exceeds the projection, we can't calculate a midpoint,\n  // so run away\n\n  if (startCoord[1] > Constants.LAT_RENDERED_MAX || startCoord[1] < Constants.LAT_RENDERED_MIN || endCoord[1] > Constants.LAT_RENDERED_MAX || endCoord[1] < Constants.LAT_RENDERED_MIN) {\n    return null;\n  }\n\n  const ptA = map.project([startCoord[0], startCoord[1]]);\n  const ptB = map.project([endCoord[0], endCoord[1]]);\n  const mid = map.unproject([(ptA.x + ptB.x) / 2, (ptA.y + ptB.y) / 2]);\n  return {\n    type: Constants.geojsonTypes.FEATURE,\n    properties: {\n      meta: Constants.meta.MIDPOINT,\n      parent: parent,\n      lng: mid.lng,\n      lat: mid.lat,\n      coord_path: endVertex.properties.coord_path\n    },\n    geometry: {\n      type: Constants.geojsonTypes.POINT,\n      coordinates: [mid.lng, mid.lat]\n    }\n  };\n};","map":{"version":3,"sources":["/home/jfrank/Ironhack/LastProject/cyclingproject/mapbox-react-tutorial/mapboxAndReact/node_modules/mapbox-gl-draw/src/lib/create_midpoint.js"],"names":["Constants","require","module","exports","parent","startVertex","endVertex","map","startCoord","geometry","coordinates","endCoord","LAT_RENDERED_MAX","LAT_RENDERED_MIN","ptA","project","ptB","mid","unproject","x","y","type","geojsonTypes","FEATURE","properties","meta","MIDPOINT","lng","lat","coord_path","POINT"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,OAAO,CAAC,cAAD,CAAzB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAASC,MAAT,EAAiBC,WAAjB,EAA8BC,SAA9B,EAAyCC,GAAzC,EAA8C;AAC7D,QAAMC,UAAU,GAAGH,WAAW,CAACI,QAAZ,CAAqBC,WAAxC;AACA,QAAMC,QAAQ,GAAGL,SAAS,CAACG,QAAV,CAAmBC,WAApC,CAF6D,CAI7D;AACA;;AACA,MAAIF,UAAU,CAAC,CAAD,CAAV,GAAgBR,SAAS,CAACY,gBAA1B,IACFJ,UAAU,CAAC,CAAD,CAAV,GAAgBR,SAAS,CAACa,gBADxB,IAEFF,QAAQ,CAAC,CAAD,CAAR,GAAcX,SAAS,CAACY,gBAFtB,IAGFD,QAAQ,CAAC,CAAD,CAAR,GAAcX,SAAS,CAACa,gBAH1B,EAG4C;AAC1C,WAAO,IAAP;AACD;;AAED,QAAMC,GAAG,GAAGP,GAAG,CAACQ,OAAJ,CAAY,CAAEP,UAAU,CAAC,CAAD,CAAZ,EAAiBA,UAAU,CAAC,CAAD,CAA3B,CAAZ,CAAZ;AACA,QAAMQ,GAAG,GAAGT,GAAG,CAACQ,OAAJ,CAAY,CAAEJ,QAAQ,CAAC,CAAD,CAAV,EAAeA,QAAQ,CAAC,CAAD,CAAvB,CAAZ,CAAZ;AACA,QAAMM,GAAG,GAAGV,GAAG,CAACW,SAAJ,CAAc,CAAE,CAACJ,GAAG,CAACK,CAAJ,GAAQH,GAAG,CAACG,CAAb,IAAkB,CAApB,EAAuB,CAACL,GAAG,CAACM,CAAJ,GAAQJ,GAAG,CAACI,CAAb,IAAkB,CAAzC,CAAd,CAAZ;AAEA,SAAO;AACLC,IAAAA,IAAI,EAAErB,SAAS,CAACsB,YAAV,CAAuBC,OADxB;AAELC,IAAAA,UAAU,EAAE;AACVC,MAAAA,IAAI,EAAEzB,SAAS,CAACyB,IAAV,CAAeC,QADX;AAEVtB,MAAAA,MAAM,EAAEA,MAFE;AAGVuB,MAAAA,GAAG,EAAEV,GAAG,CAACU,GAHC;AAIVC,MAAAA,GAAG,EAAEX,GAAG,CAACW,GAJC;AAKVC,MAAAA,UAAU,EAAEvB,SAAS,CAACkB,UAAV,CAAqBK;AALvB,KAFP;AASLpB,IAAAA,QAAQ,EAAE;AACRY,MAAAA,IAAI,EAAErB,SAAS,CAACsB,YAAV,CAAuBQ,KADrB;AAERpB,MAAAA,WAAW,EAAE,CAACO,GAAG,CAACU,GAAL,EAAUV,GAAG,CAACW,GAAd;AAFL;AATL,GAAP;AAcD,CA/BD","sourcesContent":["const Constants = require('../constants');\n\nmodule.exports = function(parent, startVertex, endVertex, map) {\n  const startCoord = startVertex.geometry.coordinates;\n  const endCoord = endVertex.geometry.coordinates;\n\n  // If a coordinate exceeds the projection, we can't calculate a midpoint,\n  // so run away\n  if (startCoord[1] > Constants.LAT_RENDERED_MAX ||\n    startCoord[1] < Constants.LAT_RENDERED_MIN ||\n    endCoord[1] > Constants.LAT_RENDERED_MAX ||\n    endCoord[1] < Constants.LAT_RENDERED_MIN) {\n    return null;\n  }\n\n  const ptA = map.project([ startCoord[0], startCoord[1] ]);\n  const ptB = map.project([ endCoord[0], endCoord[1] ]);\n  const mid = map.unproject([ (ptA.x + ptB.x) / 2, (ptA.y + ptB.y) / 2 ]);\n\n  return {\n    type: Constants.geojsonTypes.FEATURE,\n    properties: {\n      meta: Constants.meta.MIDPOINT,\n      parent: parent,\n      lng: mid.lng,\n      lat: mid.lat,\n      coord_path: endVertex.properties.coord_path\n    },\n    geometry: {\n      type: Constants.geojsonTypes.POINT,\n      coordinates: [mid.lng, mid.lat]\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"script"}